---
import Layout from "../../layouts/Layout.astro";
import SeriesDetailPage from "../../components/series/SeriesDetailPage";

export const prerender = false;

const { seriesId } = Astro.params;

// Ensure seriesId exists (should always be present via route)
if (!seriesId) {
  return new Response("Series ID is required", { status: 400 });
}

// Get user email from middleware
const userEmail = Astro.locals.user?.email;
---

<Layout title="Series â€” Bookkeeper">
  <SeriesDetailPage client:only="react" seriesId={seriesId} userEmail={userEmail} />
</Layout>
